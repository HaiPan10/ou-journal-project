<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layouts/layout}">

<section layout:fragment="content">
    <div>Khu vực xem review của reviewer (Cập nhật sau)</div>
    <button class="badge badge-success" onclick="decideArticle('ACCEPT')">Đồng ý bài báo</button>
    <button class="badge badge-danger" onclick="decideArticle('REJECT')">Từ chối bài báo</button>
    <div>Tiêu đề: <span th:text="${article.title}"></span></div>
    <div>Abstract: <span th:text="${article.abstracts}"></span></div>
    <div>Từ khóa: <span th:text="${article.keywords}"></span></div>
    <div>
        <iframe th:src="${viewUrl}" style="width: 100%; height: 1000px; background-color: white;"></iframe>
    </div>

    <script th:inline="javascript">
        function decideArticle(status) {
            fetch(`/api/articles/editor/decide/[[${article.id}]]?status=${status}`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
            }).then(res => {
                if (res.ok) {
                    window.location.href = "/editor/deciding-list"
                } else {
                }
            }).catch(err => {
                alert(err);
                console.error(err);
            });
        }
    </script>
</section>

</html>